# 赛车单词游戏（手机端H5） - 产品需求文档 (PRD)

## 📋 项目基本信息

### 项目概述
- **项目名称**: 赛车单词游戏 (Car Words Game)
- **项目类型**: 教育游戏 / H5小游戏
- **目标人群**: 小学1-6年级学生 (6-12岁)
- **核心价值**: 将激动人心的赛车竞速与英语学习相结合，让学生在驾驶刺激中轻松掌握英语单词

### 项目背景
传统的单词记忆方式枯燥乏味，学生容易产生厌学情绪。本项目将赛车竞速游戏与英语单词学习相结合，通过竞速收集正确单词的机制激发学习兴趣，提升单词记忆效果。

### 项目目标
- **教育目标**: 帮助学生掌握1000+个小学阶段核心英语单词
- **体验目标**: 提供流畅刺激的赛车体验，增强学习动机
- **技术目标**: 实现跨平台响应式H5应用，支持PC和移动端

### 技术要求
- **平台支持**: ✅PC端 ✅移动端 ✅响应式
- **部署方式**: ✅单文件应用 (index.html包含所有代码)
- **特殊API需求**: ✅语音合成 ✅本地存储 ✅触控事件 ✅Canvas绘图

---

## 🏁 游戏机制设计

### 核心玩法
**游戏类型**: ✅竞速类（赛车 + 教育内容）

**基础规则**:
1. 玩家控制赛车在三车道赛道上行驶
2. 赛道上会出现单词路牌（Word Signs）和社会车辆
3. 系统显示目标单词（英文+中文释义）
4. 玩家需要控制赛车收集正确的目标单词路牌
5. 收集对单词后得分，播放单词语音朗读
6. 避开社会车辆，撞车扣血（初始10格血）
7. 撞错单词扣5分，血量耗尽游戏结束

**社会车辆机制**:
- 不同速度的社会车辆（慢速、中速、快速）
- 车辆会缓慢左右变道
- 最多同时出现3辆社会车辆
- 撞击扣1格血量

**屏幕元素控制**:
- 最多同时出现3个社会车辆
- 最多同时出现2个单词目标
- 合理分布，避免过于密集

**移动设计**:
- 自由横向移动（不限制车道）
- 左右控制移动幅度，更灵活
- 单词和车辆分布在不同位置
- 确保单词与车辆不重叠，避免同时碰撞

### 计分系统
- **得分规则**: 
  - 撞对单词: +10分
  - 连续撞对: 连击加成 (2x, 3x, 最高5x)
  - 完美通过（一定距离内全对）: +50分奖励
- **失分规则**: 撞错单词 -5分
- **特殊奖励**: 
  - 加速道具: 临时提速
  - 护盾道具: 撞错一次不扣分
  - 双倍积分: 30秒内得分翻倍
- **记录保存**: ✅最高分 ✅历史记录本地存储

### 难度设计
- **速度等级**: 3个速度模式 (低速/中速/高速)
- **速度区别**: 
  - 🐢 低速模式 (60 km/h): 车速慢，单词间隔大，反应时间充足
  - 🚗 中速模式 (120 km/h): 中等车速，适中间隔，平衡挑战性
  - 🏎️ 高速模式 (180 km/h): 高速行驶，密集单词，考验反应能力
- **动态调整**: ✅根据分数自动提升车速（每100分提速一次）

---

## 📚 内容设计

### 内容类型
**词汇类**: ✅英语单词

**内容来源**: 自定义教育词库，针对小学阶段精选

**数据格式**: 
```javascript
{
    word: 'Example',                    // 英文单词(首字母大写)
    chinese: '例子',                     // 中文释义
    pronunciation: '/ɪɡˈzæm.pəl/',     // 国际音标
    example: 'This is an example sentence. 这是一个例句。'  // 双语例句
}
```

### 内容分级
**分级标准**: 按小学年级分级

**内容数量和质量**:
- **1年级(152词)**: 基础名词
  - 动物类、颜色类、数字类、身体部位
  
- **2年级(161词)**: 日常生活词汇
  - 家庭类、学校类、食物类、衣物类
  
- **3年级(180词)**: 动作和描述词汇  
  - 动词类、形容词、方位词
  
- **4年级(168词)**: 进阶概念词汇
  - 时间概念、抽象概念、复合词
  
- **5年级(178词)**: 学科相关词汇
  - 科学词汇、历史地理、高级形容词
  
- **6年级(191词)**: 学术和文化词汇
  - 学术词汇、文化艺术、专业术语

---

## 🎯 用户体验设计

### 界面布局
**必需页面**:

1. ✅**开始页面** - 主界面功能
   - 游戏标题和赛车logo展示（logo大小90px）
   - 年级选择下拉菜单 (1-6年级)
   - 速度选择 (低速60km/h/中速120km/h/高速180km/h)  
   - 开始比赛按钮（红色渐变主按钮）
   - 单词本入口按钮（白色次要按钮）
   - 单词浏览按钮（绿色渐变按钮）
   - 制作信息展示 (制作by公众号: 泡泡妈学AI，位于页面底部)
   - 淡蓝色渐变背景 (#E3F2FD → #BBDEFB)

2. ✅**游戏页面** - 核心游戏体验
   - 游戏画布区域 (Canvas渲染赛道)
   - 顶部信息栏:
     - 目标单词显示 (英文+中文) + 音效开关 + 暂停按钮
   - 左侧得分显示:
     - 透明背景，"得分"和数字在同一行
   - 右侧血条显示:
     - 竖向10格血量，❤️图标在顶部
   - 游戏内控制按钮（半透明叠层）:
     - 十字方向键布局（上下左右）
     - 中间暂停按钮
     - 紧凑设计，不遮挡游戏视野
   - 赛道元素:
     - 赛车（自由横向移动，不限车道）
     - 单词目标（绿色背景=正确，白色=错误）
     - 社会车辆（朝前行驶，与单词分离）
     - 淡蓝色渐变背景

3. ✅**暂停页面** - 游戏中断处理
   - 暂停提示信息
   - 继续比赛按钮
   - 重新开始按钮
   - 返回主界面选项

4. ✅**游戏结束页面** - 结果展示和选择
   - 游戏结束图标 (🏁🏆合并展示)
   - 最终得分显示（与奖杯图标整合在一起）
   - 四宫格成就统计（学会单词、正确率、最高速度、游戏时间）
   - 学习回顾区域（已学会/待加强切换）
   - 操作按钮（固定在底部）:
     - 再来一局按钮（红色主按钮）
     - 单词浏览按钮（绿色按钮）
     - 返回主界面按钮（白色次要按钮）

5. ✅**单词浏览页面** - 卡片式单词学习（新增）
   - 顶部固定控制栏:
     - 左侧: 返回按钮
     - 中央: 页面标题
     - 右侧: 年级选择下拉菜单
   - 主体内容区:
     - 学习状态标记（未学/学习中/已掌握）
     - 单词卡片（一屏一词）:
       - 英文单词（大字体）
       - 音标
       - 中文释义（绿色标签）
       - 例句（中英对照）
       - 朗读按钮
       - 记忆提示（可选）
   - 底部导航:
     - 收藏/分享按钮
     - 上一个/下一个切换

6. ✅**单词本页面** - 学习内容管理
   - 顶部固定控制栏:
     - 左侧: 返回按钮  
     - 中央: 搜索输入框
     - 右侧: 年级选择下拉菜单
   - 主体滚动内容区:
     - 单词卡片列表 (每页10个)
     - 卡片显示: 单词+音标+中文+例句+播放按钮
     - 学习状态标识 (🏆已掌握, 🏁学习中)
   - 底部固定翻页控制:
     - 左侧: 上一页/下一页按钮
     - 右侧: 页码信息 + 单词总数

### 交互设计
**输入方式**:
- ✅键盘输入: A/D键或左右方向键控制车道切换，空格键刹车，P键暂停
- ✅鼠标点击: 所有按钮支持点击操作  
- ✅触屏操作: 移动端左右滑动切换车道，点击按钮控制

**反馈设计**:
- ✅视觉反馈: 
  - 目标单词高亮显示
  - 撞对单词时的爆炸特效
  - 连击时的火焰尾迹效果
  - 加速时的运动模糊效果
- ✅声音反馈: 
  - 引擎声音效果
  - 撞击音效
  - 单词语音朗读
  - 背景音乐 (可开关)
- ✅触觉反馈: 暂不支持

### 赛车主题元素
- **赛车造型**: 多种颜色可选（红、蓝、黄、绿）
- **赛道风格**: 
  - 城市赛道（高楼大厦背景）
  - 乡村赛道（山丘田野背景）
  - 未来赛道（科技感背景）
- **装饰元素**:
  - 路边观众看台
  - 赛道旁广告牌
  - 终点线和旗帜
  - 轮胎印和尾气效果

---

## 📱 技术实现要求

### 基础技术栈
- **前端**: HTML5 + CSS3 + JavaScript ES6+
- **样式**: ✅原生CSS (内联到HTML文件中)
- **脚本**: ✅原生JS (完全集成到单文件中)

### 响应式设计
- **主要屏幕尺寸**: 390x844px模拟手机框架，支持弹性适配
- **适配策略**: 移动端优先，向上兼容平板和桌面端
- **控制适配**: PC键盘(A/D+方向键) + 移动触控按钮 + 滑动手势

### 性能要求
- **加载速度**: 首屏3秒内，总体5秒内完成加载
- **运行流畅**: 游戏帧率稳定≥30fps，目标60fps
- **内存占用**: 移动端控制在50MB以内
- **网络需求**: ✅纯离线应用，无网络依赖

### 浏览器兼容
**桌面端**:
- ✅Chrome 70+ ✅Firefox 65+ ✅Safari 12+ ✅Edge 79+

**移动端**:
- ✅iOS Safari 12+ ✅Android Chrome 70+ ✅微信浏览器

---

## 🎨 视觉设计要求

### 设计风格
- **整体风格**: 动感赛车风格，色彩鲜艳活泼
- **色彩方案**: 
  - 主色调: 激情红色系 (#FF5252, #FF1744)
  - 辅助色: 活力黄色 (#FFC107), 天空蓝 (#2196F3)
  - 文字色: 深灰主文字 (#333), 白色UI文字 (#FFF)
- **字体选择**: 系统字体优先，赛车感数字字体

### UI元素（复用已有组件）
- **HomePage样式**: 用于开始页面
- **VocabularyBook样式**: 用于单词本页面
- **GameInterface样式**: 用于游戏主界面
- **GameOver样式**: 用于游戏结束页面

### 动画效果
- **赛车动画**: 
  - 车道切换: 0.3s ease-out平滑过渡
  - 加速效果: 车身抖动 + 尾气喷射
  - 撞击效果: 0.2s震动 + 火花飞溅
- **背景动画**: 
  - 道路滚动: 根据车速动态调整
  - 背景视差: 多层次滚动效果
  - 云朵飘动: 增加动感氛围
- **UI动画**: 
  - 按钮点击: 缩放反馈
  - 得分更新: 数字滚动效果
  - 连击提示: 放大渐隐效果

---

## 📊 数据统计需求

### 学习数据
- ✅答题正确率: 按单词记录遇到次数和正确次数
- ✅学习时长: 记录每次游戏的持续时间
- ✅知识点掌握情况: 单词掌握状态 (未学习/学习中/已掌握)
- ✅进步趋势: 通过时间戳记录学习历史
- ✅错题统计: 记录经常撞错的单词

### 游戏数据
- ✅最高分记录: 本地存储历史最高分
- ✅最快速度: 记录达到的最高速度
- ✅连击记录: 最高连击次数
- ✅里程统计: 累计行驶距离
- ✅游戏次数: 累计比赛局数

### 数据存储
- **存储方式**: ✅LocalStorage 主要存储方式
- **数据同步**: ✅纯本地存储，无云端功能
- **隐私保护**: 不收集任何个人信息，所有数据本地存储

**存储键值**:
- `carGame_highScore`: 最高分记录
- `carGame_wordProgress`: 单词学习进度  
- `carGame_gameStats`: 游戏统计数据
- `carGame_settings`: 用户设置 (音效开关等)

---

## 🚀 部署发布

### 部署平台
推荐平台: ✅Netlify ✅Vercel ✅GitHub Pages

### 发布要求
- **域名需求**: ✅需要HTTPS协议 (语音功能依赖)
- **SEO优化**: ✅完整的meta标签，关键词优化
- **分享功能**: ✅社交媒体分享支持，✅二维码生成

---

## ✅ 验收标准

### 功能验收
- [ ] **核心游戏功能**
  - [ ] 赛车左右切换车道机制正常
  - [ ] 目标单词选择和显示正确
  - [ ] 碰撞检测准确无误
  - [ ] 计分系统运作正常
  - [ ] 速度递增机制有效
  
- [ ] **学习功能**
  - [ ] 1000+单词数据完整准确
  - [ ] 语音朗读功能正常
  - [ ] 单词本搜索和浏览功能完整
  - [ ] 学习进度记录准确
  - [ ] 游戏结果单词回顾正常

- [ ] **用户界面**
  - [ ] 5个页面布局完整美观
  - [ ] 响应式适配在各设备正常
  - [ ] 交互反馈及时准确
  - [ ] 动画效果流畅自然

### 性能验收
- [ ] **加载性能**: 首屏加载时间 < 3秒
- [ ] **运行性能**: 游戏帧率稳定 ≥ 30fps
- [ ] **内存使用**: 移动端内存占用 < 50MB
- [ ] **兼容性**: 支持列出的所有浏览器

### 体验验收
- [ ] **易用性**: 操作逻辑清晰直观，新用户可快速上手
- [ ] **教育性**: 学习效果明显，单词记忆有帮助
- [ ] **趣味性**: 游戏体验刺激有趣，能够维持用户兴趣
- [ ] **稳定性**: 长时间使用无崩溃，功能稳定可靠

---

## 📝 开发备注

### 特殊需求
- **语音功能**: Web Speech API存在浏览器兼容性问题，需要降级处理
- **触控优化**: 移动端必须考虑触控按钮大小和误触防护
- **性能优化**: Canvas渲染需要合理控制帧率，避免性能问题
- **数据持久化**: 本地存储需要异常处理，防止数据丢失

### 与贪吃蛇游戏的主要区别
1. **游戏机制**: 从网格移动改为车道切换
2. **视觉主题**: 从蛇形象改为赛车形象
3. **场景设计**: 从静态网格改为动态滚动赛道
4. **控制方式**: 从四方向控制改为左右切换+速度控制
5. **得分系统**: 增加连击和道具系统
6. **音效设计**: 增加引擎声等赛车元素

### 可复用组件映射
- HomePage组件 → 开始页面（调整为赛车主题）
- VocabularyBook组件 → 单词本页面（保持原样）
- GameInterface组件 → 游戏界面（改造为赛道布局）
- GameOver组件 → 游戏结束页面（调整文案和图标）

---

## 👥 制作信息

**开发团队**: 泡泡妈学AI  
**技术实现**: Anthropic Claude Code  
**开源协议**: MIT License  
**联系方式**: 通过公众号"泡泡妈学AI"反馈  

---

**文档版本**: v1.1 (UI设计完成版)  
**更新时间**: 2025年1月9日  
**文档状态**: ✅UI设计已完成，准备开发