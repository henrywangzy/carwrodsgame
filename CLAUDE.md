# 赛车单词游戏开发规范文档

## 项目概述
- **项目名称**: 赛车单词游戏 (Car Words Game)
- **项目目录**: E:\claude\3.carwordsgame
- **开发状态**: UI设计完成，准备开发阶段
- **技术栈**: HTML5 + CSS3 + JavaScript (单文件应用)
- **相关文档**: 
  - 赛车单词游戏PRD.md - 产品需求文档
  - UI设计草图.html - 完整的界面设计稿

## 开发要求

### 1. 文件结构
- 所有代码必须集成在单个 `index.html` 文件中
- CSS样式内联在 `<style>` 标签中
- JavaScript代码内联在 `<script>` 标签中
- 不使用外部依赖和CDN链接
- 开发完成的游戏文件为：`赛车单词游戏.html`

### 2. 样式复用
可复用组件位于 `E:\claude\usefulpart\` 目录：
- **WordCard** - 单词卡片样式（用于单词浏览页面）
- **4.GameOver** - 游戏结束页样式（参考布局和动画）
- **CoreStyles** - 核心样式变量（颜色、动画、布局）

### 3. 核心功能实现

#### 游戏机制
- 自由横向移动系统（不限制车道）
- 赛车平滑移动动画（0.3s过渡）
- 单词目标和社会车辆从上往下滚动
- 碰撞检测系统（分别检测单词和车辆）
- 血条系统（10格血量，撞车扣血）
- 速度递增机制（每100分提速）

#### 控制系统
- **PC端**: A/D键或左右方向键切换车道，空格键刹车，P键暂停
- **移动端**: 左右滑动或点击按钮控制，触控按钮不小于44x44px

#### 音效系统
- 引擎声音循环播放
- 撞击音效
- 单词语音朗读（Web Speech API）
- 背景音乐（可开关）

#### 数据存储
使用 LocalStorage 存储：
- `carGame_highScore` - 最高分
- `carGame_wordProgress` - 学习进度
- `carGame_gameStats` - 游戏统计
- `carGame_settings` - 用户设置

### 4. 视觉设计规范

#### 配色方案
```css
/* 主色调 */
--primary-red: #FF5252;
--primary-dark: #FF1744;

/* 辅助色 */
--accent-yellow: #FFC107;
--accent-blue: #2196F3;
--success-green: #4CAF50;

/* 文字色 */
--text-dark: #333;
--text-gray: #666;
--text-light: #999;
```

#### 动画时长
- 页面切换: 0.3s ease-out
- 车道切换: 0.3s ease-out
- 按钮反馈: 0.2s ease
- 撞击效果: 0.2s
- 背景滚动: 根据速度动态调整

### 5. 性能优化要求
- Canvas渲染保持30fps以上
- 使用 requestAnimationFrame 优化动画
- 图片资源使用 base64 内联
- 避免内存泄漏，及时清理定时器

### 6. 兼容性要求
- Chrome 70+
- Firefox 65+
- Safari 12+
- Edge 79+
- 移动端浏览器支持

### 7. 单词数据管理
- 1000+单词按年级分类（1-6年级）
- 每个单词包含：英文、中文、音标、例句
- 支持语音朗读功能
- 学习进度跟踪

## 开发流程

### 第一阶段：基础框架
1. 创建HTML结构
2. 实现响应式布局
3. 添加基础样式

### 第二阶段：游戏核心
1. 实现Canvas渲染系统
2. 开发赛道和赛车逻辑
3. 添加碰撞检测
4. 实现控制系统

### 第三阶段：教育功能
1. 集成单词数据库
2. 实现语音朗读
3. 添加学习进度跟踪
4. 开发单词本功能

### 第四阶段：优化完善
1. 添加音效和动画
2. 性能优化
3. 兼容性测试
4. 用户体验优化

## 注意事项
1. 保持代码整洁，适当添加注释
2. 确保移动端触控体验流畅
3. 语音功能需要HTTPS环境
4. 定期保存开发进度

## 更新记录
- 2025-01-09 10:00: 创建项目需求文档
- 2025-01-09 11:00: 完成初版UI设计草图
- 2025-01-09 12:00: 根据用户反馈优化UI设计
- 2025-01-09 13:00: 完成最终UI设计（含单词浏览功能）
- 2025-01-09 14:00: 修复颜色协调性问题
- 2025-01-09 当前: 准备开始正式开发

---
**制作方**: 泡泡妈学AI
**技术支持**: Claude Code